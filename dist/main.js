(function(j){typeof define=="function"&&define.amd?define(j):j()})(function(){"use strict";var j=(e=>(e[e.STORAGE_SET=0]="STORAGE_SET",e[e.STORAGE_GET=1]="STORAGE_GET",e[e.GET_TOKENS=2]="GET_TOKENS",e[e.APPLY_THEME=3]="APPLY_THEME",e))(j||{});const pr=e=>{mg.ui.postMessage(e,"*")};var me=(e=>(e.page="\u9875\u9762",e.selection="\u5F53\u524D\u9009\u62E9",e))(me||{}),oe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},vr={};(function(e){e.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},e.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},e.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},e.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},e.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},e.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},e.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},e.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},e.realToAlias=function(){var r=Object.prototype.hasOwnProperty,t=e.aliasToReal,a={};for(var n in t){var i=t[n];r.call(a,i)?a[i].push(n):a[i]=[n]}return a}(),e.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},e.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},e.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}})(vr);var Te={},w=vr,Da=Te,hr=Array.prototype.push;function Ga(e,r){return r==2?function(t,a){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}function Ie(e,r){return r==2?function(t,a){return e(t,a)}:function(t){return e(t)}}function dr(e){for(var r=e?e.length:0,t=Array(r);r--;)t[r]=e[r];return t}function Ba(e){return function(r){return e({},r)}}function Na(e,r){return function(){for(var t=arguments.length,a=t-1,n=Array(t);t--;)n[t]=arguments[t];var i=n[r],s=n.slice(0,r);return i&&hr.apply(s,i),r!=a&&hr.apply(s,n.slice(r+1)),e.apply(this,s)}}function Oe(e,r){return function(){var t=arguments.length;if(!!t){for(var a=Array(t);t--;)a[t]=arguments[t];var n=a[0]=r.apply(void 0,a);return e.apply(void 0,a),n}}}function we(e,r,t,a){var n=typeof r=="function",i=r===Object(r);if(i&&(a=t,t=r,r=void 0),t==null)throw new TypeError;a||(a={});var s={cap:"cap"in a?a.cap:!0,curry:"curry"in a?a.curry:!0,fixed:"fixed"in a?a.fixed:!0,immutable:"immutable"in a?a.immutable:!0,rearg:"rearg"in a?a.rearg:!0},o=n?t:Da,u="curry"in a&&a.curry,l="fixed"in a&&a.fixed,f="rearg"in a&&a.rearg,h=n?t.runInContext():void 0,g=n?t:{ary:e.ary,assign:e.assign,clone:e.clone,curry:e.curry,forEach:e.forEach,isArray:e.isArray,isError:e.isError,isFunction:e.isFunction,isWeakMap:e.isWeakMap,iteratee:e.iteratee,keys:e.keys,rearg:e.rearg,toInteger:e.toInteger,toPath:e.toPath},y=g.ary,m=g.assign,I=g.clone,b=g.curry,_=g.forEach,O=g.isArray,D=g.isError,L=g.isFunction,G=g.isWeakMap,J=g.keys,ne=g.rearg,ie=g.toInteger,E1=g.toPath,La=J(w.aryMethod),x1={castArray:function(v){return function(){var c=arguments[0];return O(c)?v(dr(c)):v.apply(void 0,arguments)}},iteratee:function(v){return function(){var c=arguments[0],p=arguments[1],d=v(c,p),$=d.length;return s.cap&&typeof p=="number"?(p=p>2?p-2:1,$&&$<=p?d:Ie(d,p)):d}},mixin:function(v){return function(c){var p=this;if(!L(p))return v(p,Object(c));var d=[];return _(J(c),function($){L(c[$])&&d.push([$,p.prototype[$]])}),v(p,Object(c)),_(d,function($){var S=$[1];L(S)?p.prototype[$[0]]=S:delete p.prototype[$[0]]}),p}},nthArg:function(v){return function(c){var p=c<0?1:ie(c)+1;return b(v(c),p)}},rearg:function(v){return function(c,p){var d=p?p.length:0;return b(v(c,p),d)}},runInContext:function(v){return function(c){return we(e,v(c),a)}}};function W1(v,c){if(s.cap){var p=w.iterateeRearg[v];if(p)return G1(c,p);var d=!n&&w.iterateeAry[v];if(d)return D1(c,d)}return c}function F1(v,c,p){return u||s.curry&&p>1?b(c,p):c}function Ea(v,c,p){if(s.fixed&&(l||!w.skipFixed[v])){var d=w.methodSpread[v],$=d&&d.start;return $===void 0?y(c,p):Na(c,$)}return c}function xa(v,c,p){return s.rearg&&p>1&&(f||!w.skipRearg[v])?ne(c,w.methodRearg[v]||w.aryRearg[p]):c}function j1(v,c){c=E1(c);for(var p=-1,d=c.length,$=d-1,S=I(Object(v)),W=S;W!=null&&++p<d;){var E=c[p],F=W[E];F!=null&&!(L(F)||D(F)||G(F))&&(W[E]=I(p==$?F:Object(F))),W=W[E]}return S}function M1(v){return C.runInContext.convert(v)(void 0)}function Wa(v,c){var p=w.aliasToReal[v]||v,d=w.remap[p]||p,$=a;return function(S){var W=n?h:g,E=n?h[d]:c,F=m(m({},$),S);return we(W,p,E,F)}}function D1(v,c){return Fa(v,function(p){return typeof p=="function"?Ie(p,c):p})}function G1(v,c){return Fa(v,function(p){var d=c.length;return Ga(ne(Ie(p,d),c),d)})}function Fa(v,c){return function(){var p=arguments.length;if(!p)return v();for(var d=Array(p);p--;)d[p]=arguments[p];var $=s.rearg?0:p-1;return d[$]=c(d[$]),v.apply(void 0,d)}}function ja(v,c,p){var d,$=w.aliasToReal[v]||v,S=c,W=x1[$];return W?S=W(c):s.immutable&&(w.mutate.array[$]?S=Oe(c,dr):w.mutate.object[$]?S=Oe(c,Ba(c)):w.mutate.set[$]&&(S=Oe(c,j1))),_(La,function(E){return _(w.aryMethod[E],function(F){if($==F){var Ma=w.methodSpread[$],B1=Ma&&Ma.afterRearg;return d=B1?Ea($,xa($,S,E),E):xa($,Ea($,S,E),E),d=W1($,d),d=F1($,d,E),!1}}),!d}),d||(d=S),d==c&&(d=u?b(d,1):function(){return c.apply(this,arguments)}),d.convert=Wa($,c),d.placeholder=c.placeholder=p,d}if(!i)return ja(r,t,o);var C=t,se=[];return _(La,function(v){_(w.aryMethod[v],function(c){var p=C[w.remap[c]||c];p&&se.push([c,ja(c,p,C)])})}),_(J(C),function(v){var c=C[v];if(typeof c=="function"){for(var p=se.length;p--;)if(se[p][0]==v)return;c.convert=Wa(v,c),se.push([v,c])}}),_(se,function(v){C[v[0]]=v[1]}),C.convert=M1,C.placeholder=C,_(J(C),function(v){_(w.realToAlias[v]||[],function(c){C[c]=C[v]})}),C}var Ha=we;function Ka(e){return e}var Se=Ka,Ua=typeof oe=="object"&&oe&&oe.Object===Object&&oe,yr=Ua,za=yr,qa=typeof self=="object"&&self&&self.Object===Object&&self,Ya=za||qa||Function("return this")(),P=Ya,ka=P,Ja=ka.Symbol,K=Ja,_r=K,$r=Object.prototype,Xa=$r.hasOwnProperty,Va=$r.toString,X=_r?_r.toStringTag:void 0;function Za(e){var r=Xa.call(e,X),t=e[X];try{e[X]=void 0;var a=!0}catch{}var n=Va.call(e);return a&&(r?e[X]=t:delete e[X]),n}var Qa=Za,en=Object.prototype,rn=en.toString;function tn(e){return rn.call(e)}var an=tn,br=K,nn=Qa,sn=an,on="[object Null]",un="[object Undefined]",Ar=br?br.toStringTag:void 0;function cn(e){return e==null?e===void 0?un:on:Ar&&Ar in Object(e)?nn(e):sn(e)}var B=cn;function ln(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var M=ln,fn=B,gn=M,pn="[object AsyncFunction]",vn="[object Function]",hn="[object GeneratorFunction]",dn="[object Proxy]";function yn(e){if(!gn(e))return!1;var r=fn(e);return r==vn||r==hn||r==pn||r==dn}var Pe=yn,_n=P,$n=_n["__core-js_shared__"],bn=$n,Re=bn,mr=function(){var e=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function An(e){return!!mr&&mr in e}var mn=An,Tn=Function.prototype,In=Tn.toString;function On(e){if(e!=null){try{return In.call(e)}catch{}try{return e+""}catch{}}return""}var Tr=On,wn=Pe,Sn=mn,Pn=M,Rn=Tr,Cn=/[\\^$.*+?()[\]{}|]/g,Ln=/^\[object .+?Constructor\]$/,En=Function.prototype,xn=Object.prototype,Wn=En.toString,Fn=xn.hasOwnProperty,jn=RegExp("^"+Wn.call(Fn).replace(Cn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Mn(e){if(!Pn(e)||Sn(e))return!1;var r=wn(e)?jn:Ln;return r.test(Rn(e))}var Dn=Mn;function Gn(e,r){return e==null?void 0:e[r]}var Bn=Gn,Nn=Dn,Hn=Bn;function Kn(e,r){var t=Hn(e,r);return Nn(t)?t:void 0}var N=Kn,Un=N,zn=P,qn=Un(zn,"WeakMap"),Ir=qn,Or=Ir,Yn=Or&&new Or,wr=Yn,kn=Se,Sr=wr,Jn=Sr?function(e,r){return Sr.set(e,r),e}:kn,Pr=Jn,Xn=M,Rr=Object.create,Vn=function(){function e(){}return function(r){if(!Xn(r))return{};if(Rr)return Rr(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),ue=Vn,Zn=ue,Qn=M;function ei(e){return function(){var r=arguments;switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3]);case 5:return new e(r[0],r[1],r[2],r[3],r[4]);case 6:return new e(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new e(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var t=Zn(e.prototype),a=e.apply(t,r);return Qn(a)?a:t}}var ce=ei,ri=ce,ti=P,ai=1;function ni(e,r,t){var a=r&ai,n=ri(e);function i(){var s=this&&this!==ti&&this instanceof i?n:e;return s.apply(a?t:this,arguments)}return i}var ii=ni;function si(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var Ce=si,oi=Math.max;function ui(e,r,t,a){for(var n=-1,i=e.length,s=t.length,o=-1,u=r.length,l=oi(i-s,0),f=Array(u+l),h=!a;++o<u;)f[o]=r[o];for(;++n<s;)(h||n<i)&&(f[t[n]]=e[n]);for(;l--;)f[o++]=e[n++];return f}var Cr=ui,ci=Math.max;function li(e,r,t,a){for(var n=-1,i=e.length,s=-1,o=t.length,u=-1,l=r.length,f=ci(i-o,0),h=Array(f+l),g=!a;++n<f;)h[n]=e[n];for(var y=n;++u<l;)h[y+u]=r[u];for(;++s<o;)(g||n<i)&&(h[y+t[s]]=e[n++]);return h}var Lr=li;function fi(e,r){for(var t=e.length,a=0;t--;)e[t]===r&&++a;return a}var gi=fi;function pi(){}var Le=pi,vi=ue,hi=Le,di=4294967295;function le(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=di,this.__views__=[]}le.prototype=vi(hi.prototype),le.prototype.constructor=le;var Ee=le;function yi(){}var _i=yi,Er=wr,$i=_i,bi=Er?function(e){return Er.get(e)}:$i,xr=bi,Ai={},mi=Ai,Wr=mi,Ti=Object.prototype,Ii=Ti.hasOwnProperty;function Oi(e){for(var r=e.name+"",t=Wr[r],a=Ii.call(Wr,r)?t.length:0;a--;){var n=t[a],i=n.func;if(i==null||i==e)return n.name}return r}var wi=Oi,Si=ue,Pi=Le;function fe(e,r){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=void 0}fe.prototype=Si(Pi.prototype),fe.prototype.constructor=fe;var Fr=fe,Ri=Array.isArray,R=Ri;function Ci(e){return e!=null&&typeof e=="object"}var x=Ci;function Li(e,r){var t=-1,a=e.length;for(r||(r=Array(a));++t<a;)r[t]=e[t];return r}var ge=Li,Ei=Ee,xi=Fr,Wi=ge;function Fi(e){if(e instanceof Ei)return e.clone();var r=new xi(e.__wrapped__,e.__chain__);return r.__actions__=Wi(e.__actions__),r.__index__=e.__index__,r.__values__=e.__values__,r}var ji=Fi,Mi=Ee,jr=Fr,Di=Le,Gi=R,Bi=x,Ni=ji,Hi=Object.prototype,Ki=Hi.hasOwnProperty;function pe(e){if(Bi(e)&&!Gi(e)&&!(e instanceof Mi)){if(e instanceof jr)return e;if(Ki.call(e,"__wrapped__"))return Ni(e)}return new jr(e)}pe.prototype=Di.prototype,pe.prototype.constructor=pe;var Ui=pe,zi=Ee,qi=xr,Yi=wi,ki=Ui;function Ji(e){var r=Yi(e),t=ki[r];if(typeof t!="function"||!(r in zi.prototype))return!1;if(e===t)return!0;var a=qi(t);return!!a&&e===a[0]}var Xi=Ji,Vi=800,Zi=16,Qi=Date.now;function es(e){var r=0,t=0;return function(){var a=Qi(),n=Zi-(a-t);if(t=a,n>0){if(++r>=Vi)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var Mr=es,rs=Pr,ts=Mr,as=ts(rs),Dr=as,ns=/\{\n\/\* \[wrapped with (.+)\] \*/,is=/,? & /;function ss(e){var r=e.match(ns);return r?r[1].split(is):[]}var os=ss,us=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function cs(e,r){var t=r.length;if(!t)return e;var a=t-1;return r[a]=(t>1?"& ":"")+r[a],r=r.join(t>2?", ":" "),e.replace(us,`{
/* [wrapped with `+r+`] */
`)}var ls=cs;function fs(e){return function(){return e}}var gs=fs,ps=N,vs=function(){try{var e=ps(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Gr=vs,hs=gs,Br=Gr,ds=Se,ys=Br?function(e,r){return Br(e,"toString",{configurable:!0,enumerable:!1,value:hs(r),writable:!0})}:ds,_s=ys,$s=_s,bs=Mr,As=bs($s),Nr=As;function ms(e,r){for(var t=-1,a=e==null?0:e.length;++t<a&&r(e[t],t,e)!==!1;);return e}var xe=ms;function Ts(e,r,t,a){for(var n=e.length,i=t+(a?1:-1);a?i--:++i<n;)if(r(e[i],i,e))return i;return-1}var Is=Ts;function Os(e){return e!==e}var ws=Os;function Ss(e,r,t){for(var a=t-1,n=e.length;++a<n;)if(e[a]===r)return a;return-1}var Ps=Ss,Rs=Is,Cs=ws,Ls=Ps;function Es(e,r,t){return r===r?Ls(e,r,t):Rs(e,Cs,t)}var xs=Es,Ws=xs;function Fs(e,r){var t=e==null?0:e.length;return!!t&&Ws(e,r,0)>-1}var js=Fs,Ms=xe,Ds=js,Gs=1,Bs=2,Ns=8,Hs=16,Ks=32,Us=64,zs=128,qs=256,Ys=512,ks=[["ary",zs],["bind",Gs],["bindKey",Bs],["curry",Ns],["curryRight",Hs],["flip",Ys],["partial",Ks],["partialRight",Us],["rearg",qs]];function Js(e,r){return Ms(ks,function(t){var a="_."+t[0];r&t[1]&&!Ds(e,a)&&e.push(a)}),e.sort()}var Xs=Js,Vs=os,Zs=ls,Qs=Nr,eo=Xs;function ro(e,r,t){var a=r+"";return Qs(e,Zs(a,eo(Vs(a),t)))}var Hr=ro,to=Xi,ao=Dr,no=Hr,io=1,so=2,oo=4,uo=8,Kr=32,Ur=64;function co(e,r,t,a,n,i,s,o,u,l){var f=r&uo,h=f?s:void 0,g=f?void 0:s,y=f?i:void 0,m=f?void 0:i;r|=f?Kr:Ur,r&=~(f?Ur:Kr),r&oo||(r&=~(io|so));var I=[e,r,n,y,h,m,g,o,u,l],b=t.apply(void 0,I);return to(e)&&ao(b,I),b.placeholder=a,no(b,e,r)}var zr=co;function lo(e){var r=e;return r.placeholder}var qr=lo,fo=9007199254740991,go=/^(?:0|[1-9]\d*)$/;function po(e,r){var t=typeof e;return r=r==null?fo:r,!!r&&(t=="number"||t!="symbol"&&go.test(e))&&e>-1&&e%1==0&&e<r}var We=po,vo=ge,ho=We,yo=Math.min;function _o(e,r){for(var t=e.length,a=yo(r.length,t),n=vo(e);a--;){var i=r[a];e[a]=ho(i,t)?n[i]:void 0}return e}var $o=_o,Yr="__lodash_placeholder__";function bo(e,r){for(var t=-1,a=e.length,n=0,i=[];++t<a;){var s=e[t];(s===r||s===Yr)&&(e[t]=Yr,i[n++]=t)}return i}var Fe=bo,Ao=Cr,mo=Lr,To=gi,kr=ce,Io=zr,Oo=qr,wo=$o,So=Fe,Po=P,Ro=1,Co=2,Lo=8,Eo=16,xo=128,Wo=512;function Jr(e,r,t,a,n,i,s,o,u,l){var f=r&xo,h=r&Ro,g=r&Co,y=r&(Lo|Eo),m=r&Wo,I=g?void 0:kr(e);function b(){for(var _=arguments.length,O=Array(_),D=_;D--;)O[D]=arguments[D];if(y)var L=Oo(b),G=To(O,L);if(a&&(O=Ao(O,a,n,y)),i&&(O=mo(O,i,s,y)),_-=G,y&&_<l){var J=So(O,L);return Io(e,r,Jr,b.placeholder,t,O,J,o,u,l-_)}var ne=h?t:this,ie=g?ne[e]:e;return _=O.length,o?O=wo(O,o):m&&_>1&&O.reverse(),f&&u<_&&(O.length=u),this&&this!==Po&&this instanceof b&&(ie=I||kr(ie)),ie.apply(ne,O)}return b}var Xr=Jr,Fo=Ce,jo=ce,Mo=Xr,Do=zr,Go=qr,Bo=Fe,No=P;function Ho(e,r,t){var a=jo(e);function n(){for(var i=arguments.length,s=Array(i),o=i,u=Go(n);o--;)s[o]=arguments[o];var l=i<3&&s[0]!==u&&s[i-1]!==u?[]:Bo(s,u);if(i-=l.length,i<t)return Do(e,r,Mo,n.placeholder,void 0,s,l,void 0,void 0,t-i);var f=this&&this!==No&&this instanceof n?a:e;return Fo(f,this,s)}return n}var Ko=Ho,Uo=Ce,zo=ce,qo=P,Yo=1;function ko(e,r,t,a){var n=r&Yo,i=zo(e);function s(){for(var o=-1,u=arguments.length,l=-1,f=a.length,h=Array(f+u),g=this&&this!==qo&&this instanceof s?i:e;++l<f;)h[l]=a[l];for(;u--;)h[l++]=arguments[++o];return Uo(g,n?t:this,h)}return s}var Jo=ko,Xo=Cr,Vo=Lr,Vr=Fe,Zr="__lodash_placeholder__",je=1,Zo=2,Qo=4,Qr=8,V=128,et=256,eu=Math.min;function ru(e,r){var t=e[1],a=r[1],n=t|a,i=n<(je|Zo|V),s=a==V&&t==Qr||a==V&&t==et&&e[7].length<=r[8]||a==(V|et)&&r[7].length<=r[8]&&t==Qr;if(!(i||s))return e;a&je&&(e[2]=r[2],n|=t&je?0:Qo);var o=r[3];if(o){var u=e[3];e[3]=u?Xo(u,o,r[4]):o,e[4]=u?Vr(e[3],Zr):r[4]}return o=r[5],o&&(u=e[5],e[5]=u?Vo(u,o,r[6]):o,e[6]=u?Vr(e[5],Zr):r[6]),o=r[7],o&&(e[7]=o),a&V&&(e[8]=e[8]==null?r[8]:eu(e[8],r[8])),e[9]==null&&(e[9]=r[9]),e[0]=r[0],e[1]=n,e}var tu=ru,au=/\s/;function nu(e){for(var r=e.length;r--&&au.test(e.charAt(r)););return r}var iu=nu,su=iu,ou=/^\s+/;function uu(e){return e&&e.slice(0,su(e)+1).replace(ou,"")}var cu=uu,lu=B,fu=x,gu="[object Symbol]";function pu(e){return typeof e=="symbol"||fu(e)&&lu(e)==gu}var Z=pu,vu=cu,rt=M,hu=Z,tt=0/0,du=/^[-+]0x[0-9a-f]+$/i,yu=/^0b[01]+$/i,_u=/^0o[0-7]+$/i,$u=parseInt;function bu(e){if(typeof e=="number")return e;if(hu(e))return tt;if(rt(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=rt(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=vu(e);var t=yu.test(e);return t||_u.test(e)?$u(e.slice(2),t?2:8):du.test(e)?tt:+e}var Au=bu,mu=Au,at=1/0,Tu=17976931348623157e292;function Iu(e){if(!e)return e===0?e:0;if(e=mu(e),e===at||e===-at){var r=e<0?-1:1;return r*Tu}return e===e?e:0}var Ou=Iu,wu=Ou;function Su(e){var r=wu(e),t=r%1;return r===r?t?r-t:r:0}var nt=Su,Pu=Pr,Ru=ii,Cu=Ko,Lu=Xr,Eu=Jo,xu=xr,Wu=tu,Fu=Dr,ju=Hr,it=nt,Mu="Expected a function",st=1,Du=2,Me=8,De=16,Ge=32,ot=64,ut=Math.max;function Gu(e,r,t,a,n,i,s,o){var u=r&Du;if(!u&&typeof e!="function")throw new TypeError(Mu);var l=a?a.length:0;if(l||(r&=~(Ge|ot),a=n=void 0),s=s===void 0?s:ut(it(s),0),o=o===void 0?o:it(o),l-=n?n.length:0,r&ot){var f=a,h=n;a=n=void 0}var g=u?void 0:xu(e),y=[e,r,t,a,n,f,h,i,s,o];if(g&&Wu(y,g),e=y[0],r=y[1],t=y[2],a=y[3],n=y[4],o=y[9]=y[9]===void 0?u?0:e.length:ut(y[9]-l,0),!o&&r&(Me|De)&&(r&=~(Me|De)),!r||r==st)var m=Ru(e,r,t);else r==Me||r==De?m=Cu(e,r,o):(r==Ge||r==(st|Ge))&&!n.length?m=Eu(e,r,t,a):m=Lu.apply(void 0,y);var I=g?Pu:Fu;return ju(I(m,y),e,r)}var Be=Gu,Bu=Be,Nu=128;function Hu(e,r,t){return r=t?void 0:r,r=e&&r==null?e.length:r,Bu(e,Nu,void 0,void 0,void 0,void 0,r)}var Ku=Hu,ct=Gr;function Uu(e,r,t){r=="__proto__"&&ct?ct(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var Ne=Uu;function zu(e,r){return e===r||e!==e&&r!==r}var He=zu,qu=Ne,Yu=He,ku=Object.prototype,Ju=ku.hasOwnProperty;function Xu(e,r,t){var a=e[r];(!(Ju.call(e,r)&&Yu(a,t))||t===void 0&&!(r in e))&&qu(e,r,t)}var lt=Xu,Vu=lt,Zu=Ne;function Qu(e,r,t,a){var n=!t;t||(t={});for(var i=-1,s=r.length;++i<s;){var o=r[i],u=a?a(t[o],e[o],o,t,e):void 0;u===void 0&&(u=e[o]),n?Zu(t,o,u):Vu(t,o,u)}return t}var ve=Qu;function ec(e,r){for(var t=-1,a=Array(e);++t<e;)a[t]=r(t);return a}var rc=ec,tc=B,ac=x,nc="[object Arguments]";function ic(e){return ac(e)&&tc(e)==nc}var sc=ic,ft=sc,oc=x,gt=Object.prototype,uc=gt.hasOwnProperty,cc=gt.propertyIsEnumerable,lc=ft(function(){return arguments}())?ft:function(e){return oc(e)&&uc.call(e,"callee")&&!cc.call(e,"callee")},Ke=lc,Q={exports:{}};function fc(){return!1}var gc=fc;(function(e,r){var t=P,a=gc,n=r&&!r.nodeType&&r,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s?t.Buffer:void 0,u=o?o.isBuffer:void 0,l=u||a;e.exports=l})(Q,Q.exports);var pc=9007199254740991;function vc(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=pc}var Ue=vc,hc=B,dc=Ue,yc=x,_c="[object Arguments]",$c="[object Array]",bc="[object Boolean]",Ac="[object Date]",mc="[object Error]",Tc="[object Function]",Ic="[object Map]",Oc="[object Number]",wc="[object Object]",Sc="[object RegExp]",Pc="[object Set]",Rc="[object String]",Cc="[object WeakMap]",Lc="[object ArrayBuffer]",Ec="[object DataView]",xc="[object Float32Array]",Wc="[object Float64Array]",Fc="[object Int8Array]",jc="[object Int16Array]",Mc="[object Int32Array]",Dc="[object Uint8Array]",Gc="[object Uint8ClampedArray]",Bc="[object Uint16Array]",Nc="[object Uint32Array]",T={};T[xc]=T[Wc]=T[Fc]=T[jc]=T[Mc]=T[Dc]=T[Gc]=T[Bc]=T[Nc]=!0,T[_c]=T[$c]=T[Lc]=T[bc]=T[Ec]=T[Ac]=T[mc]=T[Tc]=T[Ic]=T[Oc]=T[wc]=T[Sc]=T[Pc]=T[Rc]=T[Cc]=!1;function Hc(e){return yc(e)&&dc(e.length)&&!!T[hc(e)]}var Kc=Hc;function Uc(e){return function(r){return e(r)}}var ze=Uc,ee={exports:{}};(function(e,r){var t=yr,a=r&&!r.nodeType&&r,n=a&&!0&&e&&!e.nodeType&&e,i=n&&n.exports===a,s=i&&t.process,o=function(){try{var u=n&&n.require&&n.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(ee,ee.exports);var zc=Kc,qc=ze,pt=ee.exports,vt=pt&&pt.isTypedArray,Yc=vt?qc(vt):zc,ht=Yc,kc=rc,Jc=Ke,Xc=R,Vc=Q.exports,Zc=We,Qc=ht,el=Object.prototype,rl=el.hasOwnProperty;function tl(e,r){var t=Xc(e),a=!t&&Jc(e),n=!t&&!a&&Vc(e),i=!t&&!a&&!n&&Qc(e),s=t||a||n||i,o=s?kc(e.length,String):[],u=o.length;for(var l in e)(r||rl.call(e,l))&&!(s&&(l=="length"||n&&(l=="offset"||l=="parent")||i&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Zc(l,u)))&&o.push(l);return o}var dt=tl,al=Object.prototype;function nl(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||al;return e===t}var qe=nl;function il(e,r){return function(t){return e(r(t))}}var yt=il,sl=yt,ol=sl(Object.keys,Object),ul=ol,cl=qe,ll=ul,fl=Object.prototype,gl=fl.hasOwnProperty;function pl(e){if(!cl(e))return ll(e);var r=[];for(var t in Object(e))gl.call(e,t)&&t!="constructor"&&r.push(t);return r}var _t=pl,vl=Pe,hl=Ue;function dl(e){return e!=null&&hl(e.length)&&!vl(e)}var Ye=dl,yl=dt,_l=_t,$l=Ye;function bl(e){return $l(e)?yl(e):_l(e)}var re=bl,Al=ve,ml=re;function Tl(e,r){return e&&Al(r,ml(r),e)}var $t=Tl;function Il(){this.__data__=[],this.size=0}var Ol=Il,wl=He;function Sl(e,r){for(var t=e.length;t--;)if(wl(e[t][0],r))return t;return-1}var he=Sl,Pl=he,Rl=Array.prototype,Cl=Rl.splice;function Ll(e){var r=this.__data__,t=Pl(r,e);if(t<0)return!1;var a=r.length-1;return t==a?r.pop():Cl.call(r,t,1),--this.size,!0}var El=Ll,xl=he;function Wl(e){var r=this.__data__,t=xl(r,e);return t<0?void 0:r[t][1]}var Fl=Wl,jl=he;function Ml(e){return jl(this.__data__,e)>-1}var Dl=Ml,Gl=he;function Bl(e,r){var t=this.__data__,a=Gl(t,e);return a<0?(++this.size,t.push([e,r])):t[a][1]=r,this}var Nl=Bl,Hl=Ol,Kl=El,Ul=Fl,zl=Dl,ql=Nl;function U(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}U.prototype.clear=Hl,U.prototype.delete=Kl,U.prototype.get=Ul,U.prototype.has=zl,U.prototype.set=ql;var de=U,Yl=de;function kl(){this.__data__=new Yl,this.size=0}var Jl=kl;function Xl(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var Vl=Xl;function Zl(e){return this.__data__.get(e)}var Ql=Zl;function ef(e){return this.__data__.has(e)}var rf=ef,tf=N,af=P,nf=tf(af,"Map"),ke=nf,sf=N,of=sf(Object,"create"),ye=of,bt=ye;function uf(){this.__data__=bt?bt(null):{},this.size=0}var cf=uf;function lf(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var ff=lf,gf=ye,pf="__lodash_hash_undefined__",vf=Object.prototype,hf=vf.hasOwnProperty;function df(e){var r=this.__data__;if(gf){var t=r[e];return t===pf?void 0:t}return hf.call(r,e)?r[e]:void 0}var yf=df,_f=ye,$f=Object.prototype,bf=$f.hasOwnProperty;function Af(e){var r=this.__data__;return _f?r[e]!==void 0:bf.call(r,e)}var mf=Af,Tf=ye,If="__lodash_hash_undefined__";function Of(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Tf&&r===void 0?If:r,this}var wf=Of,Sf=cf,Pf=ff,Rf=yf,Cf=mf,Lf=wf;function z(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}z.prototype.clear=Sf,z.prototype.delete=Pf,z.prototype.get=Rf,z.prototype.has=Cf,z.prototype.set=Lf;var Ef=z,At=Ef,xf=de,Wf=ke;function Ff(){this.size=0,this.__data__={hash:new At,map:new(Wf||xf),string:new At}}var jf=Ff;function Mf(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var Df=Mf,Gf=Df;function Bf(e,r){var t=e.__data__;return Gf(r)?t[typeof r=="string"?"string":"hash"]:t.map}var _e=Bf,Nf=_e;function Hf(e){var r=Nf(this,e).delete(e);return this.size-=r?1:0,r}var Kf=Hf,Uf=_e;function zf(e){return Uf(this,e).get(e)}var qf=zf,Yf=_e;function kf(e){return Yf(this,e).has(e)}var Jf=kf,Xf=_e;function Vf(e,r){var t=Xf(this,e),a=t.size;return t.set(e,r),this.size+=t.size==a?0:1,this}var Zf=Vf,Qf=jf,eg=Kf,rg=qf,tg=Jf,ag=Zf;function q(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var a=e[r];this.set(a[0],a[1])}}q.prototype.clear=Qf,q.prototype.delete=eg,q.prototype.get=rg,q.prototype.has=tg,q.prototype.set=ag;var Je=q,ng=de,ig=ke,sg=Je,og=200;function ug(e,r){var t=this.__data__;if(t instanceof ng){var a=t.__data__;if(!ig||a.length<og-1)return a.push([e,r]),this.size=++t.size,this;t=this.__data__=new sg(a)}return t.set(e,r),this.size=t.size,this}var cg=ug,lg=de,fg=Jl,gg=Vl,pg=Ql,vg=rf,hg=cg;function Y(e){var r=this.__data__=new lg(e);this.size=r.size}Y.prototype.clear=fg,Y.prototype.delete=gg,Y.prototype.get=pg,Y.prototype.has=vg,Y.prototype.set=hg;var Xe=Y;function dg(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var yg=dg,_g=M,$g=qe,bg=yg,Ag=Object.prototype,Tg=Ag.hasOwnProperty;function Ig(e){if(!_g(e))return bg(e);var r=$g(e),t=[];for(var a in e)a=="constructor"&&(r||!Tg.call(e,a))||t.push(a);return t}var Og=Ig,wg=dt,Sg=Og,Pg=Ye;function Rg(e){return Pg(e)?wg(e,!0):Sg(e)}var Ve=Rg,Cg=ve,Lg=Ve;function Eg(e,r){return e&&Cg(r,Lg(r),e)}var xg=Eg,Ze={exports:{}};(function(e,r){var t=P,a=r&&!r.nodeType&&r,n=a&&!0&&e&&!e.nodeType&&e,i=n&&n.exports===a,s=i?t.Buffer:void 0,o=s?s.allocUnsafe:void 0;function u(l,f){if(f)return l.slice();var h=l.length,g=o?o(h):new l.constructor(h);return l.copy(g),g}e.exports=u})(Ze,Ze.exports);function Wg(e,r){for(var t=-1,a=e==null?0:e.length,n=0,i=[];++t<a;){var s=e[t];r(s,t,e)&&(i[n++]=s)}return i}var Fg=Wg;function jg(){return[]}var mt=jg,Mg=Fg,Dg=mt,Gg=Object.prototype,Bg=Gg.propertyIsEnumerable,Tt=Object.getOwnPropertySymbols,Ng=Tt?function(e){return e==null?[]:(e=Object(e),Mg(Tt(e),function(r){return Bg.call(e,r)}))}:Dg,Qe=Ng,Hg=ve,Kg=Qe;function Ug(e,r){return Hg(e,Kg(e),r)}var zg=Ug;function qg(e,r){for(var t=-1,a=r.length,n=e.length;++t<a;)e[n+t]=r[t];return e}var er=qg,Yg=yt,kg=Yg(Object.getPrototypeOf,Object),rr=kg,Jg=er,Xg=rr,Vg=Qe,Zg=mt,Qg=Object.getOwnPropertySymbols,ep=Qg?function(e){for(var r=[];e;)Jg(r,Vg(e)),e=Xg(e);return r}:Zg,It=ep,rp=ve,tp=It;function ap(e,r){return rp(e,tp(e),r)}var np=ap,ip=er,sp=R;function op(e,r,t){var a=r(e);return sp(e)?a:ip(a,t(e))}var Ot=op,up=Ot,cp=Qe,lp=re;function fp(e){return up(e,lp,cp)}var wt=fp,gp=Ot,pp=It,vp=Ve;function hp(e){return gp(e,vp,pp)}var dp=hp,yp=N,_p=P,$p=yp(_p,"DataView"),bp=$p,Ap=N,mp=P,Tp=Ap(mp,"Promise"),Ip=Tp,Op=N,wp=P,Sp=Op(wp,"Set"),Pp=Sp,tr=bp,ar=ke,nr=Ip,ir=Pp,sr=Ir,St=B,k=Tr,Pt="[object Map]",Rp="[object Object]",Rt="[object Promise]",Ct="[object Set]",Lt="[object WeakMap]",Et="[object DataView]",Cp=k(tr),Lp=k(ar),Ep=k(nr),xp=k(ir),Wp=k(sr),H=St;(tr&&H(new tr(new ArrayBuffer(1)))!=Et||ar&&H(new ar)!=Pt||nr&&H(nr.resolve())!=Rt||ir&&H(new ir)!=Ct||sr&&H(new sr)!=Lt)&&(H=function(e){var r=St(e),t=r==Rp?e.constructor:void 0,a=t?k(t):"";if(a)switch(a){case Cp:return Et;case Lp:return Pt;case Ep:return Rt;case xp:return Ct;case Wp:return Lt}return r});var te=H,Fp=Object.prototype,jp=Fp.hasOwnProperty;function Mp(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&jp.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var Dp=Mp,Gp=P,Bp=Gp.Uint8Array,xt=Bp,Wt=xt;function Np(e){var r=new e.constructor(e.byteLength);return new Wt(r).set(new Wt(e)),r}var or=Np,Hp=or;function Kp(e,r){var t=r?Hp(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var Up=Kp,zp=/\w*$/;function qp(e){var r=new e.constructor(e.source,zp.exec(e));return r.lastIndex=e.lastIndex,r}var Yp=qp,Ft=K,jt=Ft?Ft.prototype:void 0,Mt=jt?jt.valueOf:void 0;function kp(e){return Mt?Object(Mt.call(e)):{}}var Jp=kp,Xp=or;function Vp(e,r){var t=r?Xp(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var Zp=Vp,Qp=or,ev=Up,rv=Yp,tv=Jp,av=Zp,nv="[object Boolean]",iv="[object Date]",sv="[object Map]",ov="[object Number]",uv="[object RegExp]",cv="[object Set]",lv="[object String]",fv="[object Symbol]",gv="[object ArrayBuffer]",pv="[object DataView]",vv="[object Float32Array]",hv="[object Float64Array]",dv="[object Int8Array]",yv="[object Int16Array]",_v="[object Int32Array]",$v="[object Uint8Array]",bv="[object Uint8ClampedArray]",Av="[object Uint16Array]",mv="[object Uint32Array]";function Tv(e,r,t){var a=e.constructor;switch(r){case gv:return Qp(e);case nv:case iv:return new a(+e);case pv:return ev(e,t);case vv:case hv:case dv:case yv:case _v:case $v:case bv:case Av:case mv:return av(e,t);case sv:return new a;case ov:case lv:return new a(e);case uv:return rv(e);case cv:return new a;case fv:return tv(e)}}var Iv=Tv,Ov=ue,wv=rr,Sv=qe;function Pv(e){return typeof e.constructor=="function"&&!Sv(e)?Ov(wv(e)):{}}var Rv=Pv,Cv=te,Lv=x,Ev="[object Map]";function xv(e){return Lv(e)&&Cv(e)==Ev}var Wv=xv,Fv=Wv,jv=ze,Dt=ee.exports,Gt=Dt&&Dt.isMap,Mv=Gt?jv(Gt):Fv,Dv=Mv,Gv=te,Bv=x,Nv="[object Set]";function Hv(e){return Bv(e)&&Gv(e)==Nv}var Kv=Hv,Uv=Kv,zv=ze,Bt=ee.exports,Nt=Bt&&Bt.isSet,qv=Nt?zv(Nt):Uv,Yv=qv,kv=Xe,Jv=xe,Xv=lt,Vv=$t,Zv=xg,Qv=Ze.exports,eh=ge,rh=zg,th=np,ah=wt,nh=dp,ih=te,sh=Dp,oh=Iv,uh=Rv,ch=R,lh=Q.exports,fh=Dv,gh=M,ph=Yv,vh=re,hh=Ve,dh=1,yh=2,_h=4,Ht="[object Arguments]",$h="[object Array]",bh="[object Boolean]",Ah="[object Date]",mh="[object Error]",Kt="[object Function]",Th="[object GeneratorFunction]",Ih="[object Map]",Oh="[object Number]",Ut="[object Object]",wh="[object RegExp]",Sh="[object Set]",Ph="[object String]",Rh="[object Symbol]",Ch="[object WeakMap]",Lh="[object ArrayBuffer]",Eh="[object DataView]",xh="[object Float32Array]",Wh="[object Float64Array]",Fh="[object Int8Array]",jh="[object Int16Array]",Mh="[object Int32Array]",Dh="[object Uint8Array]",Gh="[object Uint8ClampedArray]",Bh="[object Uint16Array]",Nh="[object Uint32Array]",A={};A[Ht]=A[$h]=A[Lh]=A[Eh]=A[bh]=A[Ah]=A[xh]=A[Wh]=A[Fh]=A[jh]=A[Mh]=A[Ih]=A[Oh]=A[Ut]=A[wh]=A[Sh]=A[Ph]=A[Rh]=A[Dh]=A[Gh]=A[Bh]=A[Nh]=!0,A[mh]=A[Kt]=A[Ch]=!1;function $e(e,r,t,a,n,i){var s,o=r&dh,u=r&yh,l=r&_h;if(t&&(s=n?t(e,a,n,i):t(e)),s!==void 0)return s;if(!gh(e))return e;var f=ch(e);if(f){if(s=sh(e),!o)return eh(e,s)}else{var h=ih(e),g=h==Kt||h==Th;if(lh(e))return Qv(e,o);if(h==Ut||h==Ht||g&&!n){if(s=u||g?{}:uh(e),!o)return u?th(e,Zv(s,e)):rh(e,Vv(s,e))}else{if(!A[h])return n?e:{};s=oh(e,h,o)}}i||(i=new kv);var y=i.get(e);if(y)return y;i.set(e,s),ph(e)?e.forEach(function(b){s.add($e(b,r,t,b,e,i))}):fh(e)&&e.forEach(function(b,_){s.set(_,$e(b,r,t,_,e,i))});var m=l?u?nh:ah:u?hh:vh,I=f?void 0:m(e);return Jv(I||e,function(b,_){I&&(_=b,b=e[_]),Xv(s,_,$e(b,r,t,_,e,i))}),s}var zt=$e,Hh=zt,Kh=4;function Uh(e){return Hh(e,Kh)}var zh=Uh,qh=Be,Yh=8;function ur(e,r,t){r=t?void 0:r;var a=qh(e,Yh,void 0,void 0,void 0,void 0,void 0,r);return a.placeholder=ur.placeholder,a}ur.placeholder={};var kh=ur,Jh=B,Xh=rr,Vh=x,Zh="[object Object]",Qh=Function.prototype,ed=Object.prototype,qt=Qh.toString,rd=ed.hasOwnProperty,td=qt.call(Object);function ad(e){if(!Vh(e)||Jh(e)!=Zh)return!1;var r=Xh(e);if(r===null)return!0;var t=rd.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&qt.call(t)==td}var nd=ad,id=B,sd=x,od=nd,ud="[object DOMException]",cd="[object Error]";function ld(e){if(!sd(e))return!1;var r=id(e);return r==cd||r==ud||typeof e.message=="string"&&typeof e.name=="string"&&!od(e)}var fd=ld,gd=te,pd=x,vd="[object WeakMap]";function hd(e){return pd(e)&&gd(e)==vd}var dd=hd,yd="__lodash_hash_undefined__";function _d(e){return this.__data__.set(e,yd),this}var $d=_d;function bd(e){return this.__data__.has(e)}var Ad=bd,md=Je,Td=$d,Id=Ad;function be(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new md;++r<t;)this.add(e[r])}be.prototype.add=be.prototype.push=Td,be.prototype.has=Id;var Od=be;function wd(e,r){for(var t=-1,a=e==null?0:e.length;++t<a;)if(r(e[t],t,e))return!0;return!1}var Sd=wd;function Pd(e,r){return e.has(r)}var Rd=Pd,Cd=Od,Ld=Sd,Ed=Rd,xd=1,Wd=2;function Fd(e,r,t,a,n,i){var s=t&xd,o=e.length,u=r.length;if(o!=u&&!(s&&u>o))return!1;var l=i.get(e),f=i.get(r);if(l&&f)return l==r&&f==e;var h=-1,g=!0,y=t&Wd?new Cd:void 0;for(i.set(e,r),i.set(r,e);++h<o;){var m=e[h],I=r[h];if(a)var b=s?a(I,m,h,r,e,i):a(m,I,h,e,r,i);if(b!==void 0){if(b)continue;g=!1;break}if(y){if(!Ld(r,function(_,O){if(!Ed(y,O)&&(m===_||n(m,_,t,a,i)))return y.push(O)})){g=!1;break}}else if(!(m===I||n(m,I,t,a,i))){g=!1;break}}return i.delete(e),i.delete(r),g}var Yt=Fd;function jd(e){var r=-1,t=Array(e.size);return e.forEach(function(a,n){t[++r]=[n,a]}),t}var Md=jd;function Dd(e){var r=-1,t=Array(e.size);return e.forEach(function(a){t[++r]=a}),t}var Gd=Dd,kt=K,Jt=xt,Bd=He,Nd=Yt,Hd=Md,Kd=Gd,Ud=1,zd=2,qd="[object Boolean]",Yd="[object Date]",kd="[object Error]",Jd="[object Map]",Xd="[object Number]",Vd="[object RegExp]",Zd="[object Set]",Qd="[object String]",ey="[object Symbol]",ry="[object ArrayBuffer]",ty="[object DataView]",Xt=kt?kt.prototype:void 0,cr=Xt?Xt.valueOf:void 0;function ay(e,r,t,a,n,i,s){switch(t){case ty:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case ry:return!(e.byteLength!=r.byteLength||!i(new Jt(e),new Jt(r)));case qd:case Yd:case Xd:return Bd(+e,+r);case kd:return e.name==r.name&&e.message==r.message;case Vd:case Qd:return e==r+"";case Jd:var o=Hd;case Zd:var u=a&Ud;if(o||(o=Kd),e.size!=r.size&&!u)return!1;var l=s.get(e);if(l)return l==r;a|=zd,s.set(e,r);var f=Nd(o(e),o(r),a,n,i,s);return s.delete(e),f;case ey:if(cr)return cr.call(e)==cr.call(r)}return!1}var ny=ay,Vt=wt,iy=1,sy=Object.prototype,oy=sy.hasOwnProperty;function uy(e,r,t,a,n,i){var s=t&iy,o=Vt(e),u=o.length,l=Vt(r),f=l.length;if(u!=f&&!s)return!1;for(var h=u;h--;){var g=o[h];if(!(s?g in r:oy.call(r,g)))return!1}var y=i.get(e),m=i.get(r);if(y&&m)return y==r&&m==e;var I=!0;i.set(e,r),i.set(r,e);for(var b=s;++h<u;){g=o[h];var _=e[g],O=r[g];if(a)var D=s?a(O,_,g,r,e,i):a(_,O,g,e,r,i);if(!(D===void 0?_===O||n(_,O,t,a,i):D)){I=!1;break}b||(b=g=="constructor")}if(I&&!b){var L=e.constructor,G=r.constructor;L!=G&&"constructor"in e&&"constructor"in r&&!(typeof L=="function"&&L instanceof L&&typeof G=="function"&&G instanceof G)&&(I=!1)}return i.delete(e),i.delete(r),I}var cy=uy,lr=Xe,ly=Yt,fy=ny,gy=cy,Zt=te,Qt=R,ea=Q.exports,py=ht,vy=1,ra="[object Arguments]",ta="[object Array]",Ae="[object Object]",hy=Object.prototype,aa=hy.hasOwnProperty;function dy(e,r,t,a,n,i){var s=Qt(e),o=Qt(r),u=s?ta:Zt(e),l=o?ta:Zt(r);u=u==ra?Ae:u,l=l==ra?Ae:l;var f=u==Ae,h=l==Ae,g=u==l;if(g&&ea(e)){if(!ea(r))return!1;s=!0,f=!1}if(g&&!f)return i||(i=new lr),s||py(e)?ly(e,r,t,a,n,i):fy(e,r,u,t,a,n,i);if(!(t&vy)){var y=f&&aa.call(e,"__wrapped__"),m=h&&aa.call(r,"__wrapped__");if(y||m){var I=y?e.value():e,b=m?r.value():r;return i||(i=new lr),n(I,b,t,a,i)}}return g?(i||(i=new lr),gy(e,r,t,a,n,i)):!1}var yy=dy,_y=yy,na=x;function ia(e,r,t,a,n){return e===r?!0:e==null||r==null||!na(e)&&!na(r)?e!==e&&r!==r:_y(e,r,t,a,ia,n)}var sa=ia,$y=Xe,by=sa,Ay=1,my=2;function Ty(e,r,t,a){var n=t.length,i=n,s=!a;if(e==null)return!i;for(e=Object(e);n--;){var o=t[n];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++n<i;){o=t[n];var u=o[0],l=e[u],f=o[1];if(s&&o[2]){if(l===void 0&&!(u in e))return!1}else{var h=new $y;if(a)var g=a(l,f,u,e,r,h);if(!(g===void 0?by(f,l,Ay|my,a,h):g))return!1}}return!0}var Iy=Ty,Oy=M;function wy(e){return e===e&&!Oy(e)}var oa=wy,Sy=oa,Py=re;function Ry(e){for(var r=Py(e),t=r.length;t--;){var a=r[t],n=e[a];r[t]=[a,n,Sy(n)]}return r}var Cy=Ry;function Ly(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var ua=Ly,Ey=Iy,xy=Cy,Wy=ua;function Fy(e){var r=xy(e);return r.length==1&&r[0][2]?Wy(r[0][0],r[0][1]):function(t){return t===e||Ey(t,e,r)}}var jy=Fy,My=R,Dy=Z,Gy=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,By=/^\w*$/;function Ny(e,r){if(My(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Dy(e)?!0:By.test(e)||!Gy.test(e)||r!=null&&e in Object(r)}var fr=Ny,ca=Je,Hy="Expected a function";function gr(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(Hy);var t=function(){var a=arguments,n=r?r.apply(this,a):a[0],i=t.cache;if(i.has(n))return i.get(n);var s=e.apply(this,a);return t.cache=i.set(n,s)||i,s};return t.cache=new(gr.Cache||ca),t}gr.Cache=ca;var Ky=gr,Uy=Ky,zy=500;function qy(e){var r=Uy(e,function(a){return t.size===zy&&t.clear(),a}),t=r.cache;return r}var Yy=qy,ky=Yy,Jy=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xy=/\\(\\)?/g,Vy=ky(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(Jy,function(t,a,n,i){r.push(n?i.replace(Xy,"$1"):a||t)}),r}),la=Vy;function Zy(e,r){for(var t=-1,a=e==null?0:e.length,n=Array(a);++t<a;)n[t]=r(e[t],t,e);return n}var fa=Zy,ga=K,Qy=fa,e_=R,r_=Z,t_=1/0,pa=ga?ga.prototype:void 0,va=pa?pa.toString:void 0;function ha(e){if(typeof e=="string")return e;if(e_(e))return Qy(e,ha)+"";if(r_(e))return va?va.call(e):"";var r=e+"";return r=="0"&&1/e==-t_?"-0":r}var a_=ha,n_=a_;function i_(e){return e==null?"":n_(e)}var da=i_,s_=R,o_=fr,u_=la,c_=da;function l_(e,r){return s_(e)?e:o_(e,r)?[e]:u_(c_(e))}var ya=l_,f_=Z,g_=1/0;function p_(e){if(typeof e=="string"||f_(e))return e;var r=e+"";return r=="0"&&1/e==-g_?"-0":r}var ae=p_,v_=ya,h_=ae;function d_(e,r){r=v_(r,e);for(var t=0,a=r.length;e!=null&&t<a;)e=e[h_(r[t++])];return t&&t==a?e:void 0}var _a=d_,y_=_a;function __(e,r,t){var a=e==null?void 0:y_(e,r);return a===void 0?t:a}var $_=__;function b_(e,r){return e!=null&&r in Object(e)}var A_=b_,m_=ya,T_=Ke,I_=R,O_=We,w_=Ue,S_=ae;function P_(e,r,t){r=m_(r,e);for(var a=-1,n=r.length,i=!1;++a<n;){var s=S_(r[a]);if(!(i=e!=null&&t(e,s)))break;e=e[s]}return i||++a!=n?i:(n=e==null?0:e.length,!!n&&w_(n)&&O_(s,n)&&(I_(e)||T_(e)))}var R_=P_,C_=A_,L_=R_;function E_(e,r){return e!=null&&L_(e,r,C_)}var x_=E_,W_=sa,F_=$_,j_=x_,M_=fr,D_=oa,G_=ua,B_=ae,N_=1,H_=2;function K_(e,r){return M_(e)&&D_(r)?G_(B_(e),r):function(t){var a=F_(t,e);return a===void 0&&a===r?j_(t,e):W_(r,a,N_|H_)}}var U_=K_;function z_(e){return function(r){return r==null?void 0:r[e]}}var q_=z_,Y_=_a;function k_(e){return function(r){return Y_(r,e)}}var J_=k_,X_=q_,V_=J_,Z_=fr,Q_=ae;function e$(e){return Z_(e)?X_(Q_(e)):V_(e)}var r$=e$,t$=jy,a$=U_,n$=Se,i$=R,s$=r$;function o$(e){return typeof e=="function"?e:e==null?n$:typeof e=="object"?i$(e)?a$(e[0],e[1]):t$(e):s$(e)}var $a=o$,u$=zt,c$=$a,l$=1;function f$(e){return c$(typeof e=="function"?e:u$(e,l$))}var g$=f$,ba=K,p$=Ke,v$=R,Aa=ba?ba.isConcatSpreadable:void 0;function h$(e){return v$(e)||p$(e)||!!(Aa&&e&&e[Aa])}var d$=h$,y$=er,_$=d$;function ma(e,r,t,a,n){var i=-1,s=e.length;for(t||(t=_$),n||(n=[]);++i<s;){var o=e[i];r>0&&t(o)?r>1?ma(o,r-1,t,a,n):y$(n,o):a||(n[n.length]=o)}return n}var $$=ma,b$=$$;function A$(e){var r=e==null?0:e.length;return r?b$(e,1):[]}var Ta=A$,m$=Ce,Ia=Math.max;function T$(e,r,t){return r=Ia(r===void 0?e.length-1:r,0),function(){for(var a=arguments,n=-1,i=Ia(a.length-r,0),s=Array(i);++n<i;)s[n]=a[r+n];n=-1;for(var o=Array(r+1);++n<r;)o[n]=a[n];return o[r]=t(s),m$(e,this,o)}}var I$=T$,O$=Ta,w$=I$,S$=Nr;function P$(e){return S$(w$(e,void 0,O$),e+"")}var R$=P$,C$=Be,L$=R$,E$=256,x$=L$(function(e,r){return C$(e,E$,void 0,void 0,void 0,r)}),W$=x$,F$=fa,j$=ge,M$=R,D$=Z,G$=la,B$=ae,N$=da;function H$(e){return M$(e)?F$(e,B$):D$(e)?[e]:j$(G$(N$(e)))}var K$=H$,U$={ary:Ku,assign:$t,clone:zh,curry:kh,forEach:xe,isArray:R,isError:fd,isFunction:Pe,isWeakMap:dd,iteratee:g$,keys:_t,rearg:W$,toInteger:nt,toPath:K$},z$=Ha,q$=U$;function Y$(e,r,t){return z$(q$,e,r,t)}var Oa=Y$,k$={cap:!1,curry:!1,fixed:!1,immutable:!1,rearg:!1},J$=Oa,wa=J$("flatten",Ta,k$);wa.placeholder=Te;var X$=wa;function V$(e,r,t,a){for(var n=-1,i=e==null?0:e.length;++n<i;){var s=e[n];r(a,s,t(s),e)}return a}var Z$=V$;function Q$(e){return function(r,t,a){for(var n=-1,i=Object(r),s=a(r),o=s.length;o--;){var u=s[e?o:++n];if(t(i[u],u,i)===!1)break}return r}}var e1=Q$,r1=e1,t1=r1(),a1=t1,n1=a1,i1=re;function s1(e,r){return e&&n1(e,r,i1)}var o1=s1,u1=Ye;function c1(e,r){return function(t,a){if(t==null)return t;if(!u1(t))return e(t,a);for(var n=t.length,i=r?n:-1,s=Object(t);(r?i--:++i<n)&&a(s[i],i,s)!==!1;);return t}}var l1=c1,f1=o1,g1=l1,p1=g1(f1),v1=p1,h1=v1;function d1(e,r,t,a){return h1(e,function(n,i,s){r(a,n,t(n),s)}),a}var y1=d1,_1=Z$,$1=y1,b1=$a,A1=R;function m1(e,r){return function(t,a){var n=A1(t)?_1:$1,i=r?r():{};return n(t,e,b1(a),i)}}var T1=m1,I1=Ne,O1=T1,w1=O1(function(e,r,t){I1(e,t,r)}),S1=w1,P1=Oa,Sa=P1("keyBy",S1);Sa.placeholder=Te;var R1=Sa;function Pa(e,r){if(r(e),"children"in e){e.type==="INSTANCE"&&r(e);for(const t of e.children)Pa(t,r)}}function C1(e,r){return e.replace(/^\w+\//,`${r}/`)}mg.showUI(__html__,{});async function Ra(){let e=mg.getLocalTextStyles(),r=mg.getLocalPaintStyles(),t=mg.getLocalEffectStyles();const a=await mg.getTeamLibraryAsync();for(const{style:n,name:i}of a)e=e.concat(n.texts),r=r.concat(n.paints),t=t.concat(n.effects);return{textStyles:e.map(n=>JSON.parse(JSON.stringify(n))),colors:r.map(n=>JSON.parse(JSON.stringify(n))),effects:t.map(n=>JSON.parse(JSON.stringify(n)))}}async function L1(){const e=await Ra(),r=X$(Object.values(e));return R1("name",r)}async function Ca(){const e={},r=await Ra();for(let[,t]of Object.entries(r))t.forEach(a=>{const n=a.name.split("/");let i=e;for(let s of n)i[s]||(i[s]={}),i=i[s];Object.assign(i,a)});return e}mg.ui.onmessage=async({type:e,seq:r,data:t})=>{switch(console.info("Receive message from ui thread: ",e,t),e){case j.STORAGE_GET:mg.clientStorage.getAsync(t).then(n=>{pr({type:e,seq:r,data:n})});break;case j.STORAGE_SET:mg.clientStorage.setAsync(t.key,t.data).catch(n=>console.error("failed to set storage",n));break;case j.GET_TOKENS:await Ca(),pr({type:e,seq:r,data:await Ca()});break;case j.APPLY_THEME:a(t).catch(n=>console.error("failed to apply theme",n));break}async function a(n){let i;const s=mg.document.currentPage;switch(n.applyScope){case me.page:i=mg.document.currentPage.children;break;case me.selection:i=s.selection;break}const o=await L1();async function u(l){const f=mg.getStyleById(l);if(!f)return null;const h=C1(f.name,n.newTheme),g=o[h];return mg.getStyleById(g.id)?g.id:(await mg.importStyleByKeyAsync(g.ukey)).id}for(const l of i)Pa(l,async f=>{if(f.type=="TEXT"){if(f.textStyles.length>1)return;const h=f.textStyles[0];if(h.textStyleId){const g=await u(h.textStyleId);g&&f.setRangeTextStyleId(0,f.characters.length,g)}}f.fillStyleId&&(f.fillStyleId=await u(f.fillStyleId)),f.strokeStyleId&&(f.strokeStyleId=await u(f.strokeStyleId)),f.effectStyleId&&(f.effectStyleId=await u(f.effectStyleId))})}}});
